@{
    ViewBag.Title = "Home Page";
}

@using cosmosui.Models
@model IEnumerable<FieldMasterInfo>

<br />
<br />
@(Html.Kendo().Grid(Model)
            .Name("grid")
            .Columns(columns =>
            {
                columns.Bound(p => p.FieldId);
                columns.Bound(p => p.TenantId).Filterable(ftb => ftb.UI("customDropDownList"));
                columns.Bound(p => p.FromCountryCode);
                columns.Bound(p => p.ToCountryCode);
                columns.Bound(p => p.BankCountryCode);
                columns.Command(command => { command.Edit(); }).Title("Actions");
            })
            .DataSource(ds => ds
                .Ajax()
                .ServerOperation(false)
                .Model(m =>
                {
                    m.Id(f => f._ts);
                })
                .Update(update => update.Action("EditingCustom_Update", "Bank")))
            .Pageable()
            .Sortable()
            .Editable(editable => editable.Mode(GridEditMode.PopUp).TemplateName("FieldMaster"))
            .Filterable(f => f
                .Operators(o => o
                    .ForString(str => str
                        .Clear()
                        .Contains("Contains")
                        .IsEqualTo("Is equal to")))
                .Extra(false))
)

<script>
    function customDropDownList(element) {
        element.kendoDropDownList({
            dataSource: new kendo.data.DataSource({
                data:
                    [
                        { Id: "ALL" },
                        { Id: "AP"  },
                        { Id: "CI"  },
                    ]
            }),
            dataTextField: "Id",
            dataValueField: "Id",
            valuePrimitive: true
        });
    }

        function fieldIdFilter(element) {
        element.kendoDropDownList({
            dataSource: {
                transport: {
                    read: "@Url.Action("FilterMenuCustomization_FieldId")"
                }
            },
            optionLabel: "--Select Value--"
        });
    }

</script>